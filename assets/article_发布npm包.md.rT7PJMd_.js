import{_ as i,c as e,o as n,j as s,ae as l,a as p,t as r}from"./chunks/framework.YyOF0cHw.js";const _=JSON.parse('{"title":"发布npm包","description":"","frontmatter":{"title":"发布npm包","date":"2025-2-14","outline":[2,3],"tags":"npm"},"headers":[],"relativePath":"article/发布npm包.md","filePath":"article/发布npm包.md"}'),o={name:"article/发布npm包.md"},c={id:"frontmatter-title",tabindex:"-1"};function m(a,t,h,g,d,k){return n(),e("div",null,[s("h1",c,[p(r(a.$frontmatter.title)+" ",1),t[0]||(t[0]=s("a",{class:"header-anchor",href:"#frontmatter-title","aria-label":'Permalink to "{{ $frontmatter.title }}"'},"​",-1))]),t[1]||(t[1]=l(`<h2 id="步骤" tabindex="-1">步骤 <a class="header-anchor" href="#步骤" aria-label="Permalink to &quot;步骤&quot;">​</a></h2><ol><li><p>准备好待发布的npm包</p></li><li><p>为npm包项目添加.npmignore控制哪些文件不需要被发布</p></li><li><p>登录npm账号 npm login</p><ul><li>如果登录失败，查看是否设置了npm镜像 npm config list|grep registry，如果设置，暂时删除即可npm config delete registry</li><li>操作成功后，npm whoami查看是否正常</li></ul></li><li><p>检查package.json文件version字段是否是最新版本</p></li><li><p>更新package.json 相关字段 <a href="./package.json字段说明.html">参考</a></p></li><li><p>如果要发布<strong>作用域包</strong>package.json文件中的<strong>name</strong>字段要定义成 <strong>@你的npm账户名/包名</strong>的形式</p></li></ol><div class="info custom-block"><p class="custom-block-title">信息</p><p>如果此时运行npm publish，会出现402 Payment Required - PUT <a href="https://registry.npmjs.org/XXXX" target="_blank" rel="noreferrer">https://registry.npmjs.org/XXXX</a> - You must sign up for private packages错误, 需要在package.json文件中添加以下配置</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;publishConfig&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;access&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;public&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div><ol start="7"><li>以上正常后，npm publish发布 (后续发版前更新version字段)</li></ol>`,4))])}const f=i(o,[["render",m]]);export{_ as __pageData,f as default};
